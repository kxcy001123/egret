var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},Main=function(t){function e(){var e=t.call(this)||this;return e.addChild(new MorePointTouch),e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var MorePointTouch=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addToStage,e),e}return __extends(e,t),e.prototype.addToStage=function(){var t=new egret.TextField;this.addChild(t),t.text="用两个手指分别拖动两个方块",this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addToStage,this),this.displays=[],this.rect=new MorePointNode,this.circle=new MorePointNode,this.addChild(this.rect),this.addChild(this.circle),this.circle.x=300,this.circle.y=this.rect.y=100,this.rect.name="rect",this.circle.name="circle",this.displays.push(this.rect,this.circle),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouch,this)},e.prototype.onTouch=function(t){var e=t.touchPointID,i=t.stageX,r=t.stageY;switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.controlStart(i,r,e);break;case egret.TouchEvent.TOUCH_MOVE:for(var n=0;n<this.displays.length;n++){var s=this.displays[n];s.id==e&&(s.x=i-s.distance.x,s.y=r-s.distance.y)}break;case egret.TouchEvent.TOUCH_END:for(var n=0;n<this.displays.length;n++){var s=this.displays[n];s.id==e&&(s.id=-1)}}},e.prototype.controlStart=function(t,e,i){for(var r=0;r<this.displays.length;r++){var n=this.displays[r];n.hitTestPoint(t,e)&&(n.id=i,n.distance=new egret.Point(t-n.x,e-n.y))}},e}(egret.DisplayObjectContainer);__reflect(MorePointTouch.prototype,"MorePointTouch");var MorePointNode=function(t){function e(){var e=t.call(this)||this,i=new egret.Shape;return i.graphics.beginFill(65280),i.graphics.drawRect(0,0,200,200),i.graphics.endFill(),e.addChild(i),e}return __extends(e,t),e}(egret.Sprite);__reflect(MorePointNode.prototype,"MorePointNode");